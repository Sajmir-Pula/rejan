<!DOCTYPE html>
<html lang="sq" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Citimet mÃ« tÃ« njohura tÃ« Dostoevskit" />
  <title>Dostoevsky - Citimet</title>
  
  <!-- Google Fonts & Font Awesome -->
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    /* ===================================== */
    /* 1) Global Variables & Background */
    /* ===================================== */
    :root {
      --primary-accent: #A67C52;       /* Gold-Copper Accent */
      --secondary-accent: #6B4F3B;       /* Deep Brown Accent */
      --text-primary: #F2F2F2;
      --text-secondary: #B3B3B3;
      --card-bg: rgba(40, 45, 55, 0.9);
      --nav-shadow: 0 15px 40px rgba(0,0,0,0.25);
    }
    
    html {
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Merriweather', serif;
      color: var(--text-primary);
      /* Swirling radial gradient matching other pages */
      background: radial-gradient(circle at center, #1e1e1e 0%, #2c2c2c 50%, #1e1e1e 100%);
      background-size: 300% 300%;
      animation: swirlBg 45s ease infinite;
      position: relative;
      line-height: 1.8;
      letter-spacing: 0.03em;
    }
    
    @keyframes swirlBg {
      0% { background-position: 0% 0%; }
      50% { background-position: 100% 100%; }
      100% { background-position: 0% 0%; }
    }
    
    /* ===================================== */
    /* 2) Floating & Rotating Accent Shapes */
    /* ===================================== */
    .shapes-container {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      overflow: hidden;
      z-index: -1;
      pointer-events: none;
    }
    
    .floating-shape {
      position: absolute;
      width: 120px;
      height: 120px;
      background: var(--primary-accent);
      opacity: 0.07;
      border-radius: 50%;
      animation: floatUpDown 6s ease-in-out infinite alternate, rotateShape 12s linear infinite;
    }
    
    @keyframes floatUpDown {
      0% { transform: translateY(0); }
      100% { transform: translateY(-30px); }
    }
    
    @keyframes rotateShape {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .floating-shape:nth-child(1) { left: 10%; top: 20%; animation-duration: 7s, 12s; }
    .floating-shape:nth-child(2) { left: 70%; top: 30%; width: 180px; height: 180px; animation-duration: 9s, 15s; }
    .floating-shape:nth-child(3) { left: 40%; top: 70%; width: 150px; height: 150px; animation-duration: 8s, 14s; }
    .floating-shape:nth-child(4) { left: 80%; top: 80%; width: 100px; height: 100px; animation-duration: 5s, 11s; }
    
    /* ===================================== */
    /* 3) Main Container with Pulsing Border */
    /* ===================================== */
    .main-container {
      max-width: 1200px;
      margin: 3rem auto;
      padding: 40px;
      background: rgba(25, 27, 35, 0.95);
      backdrop-filter: blur(15px);
      border-radius: 25px;
      border: 1px solid rgba(166,124,82,0.15);
      box-shadow: 0 0 50px rgba(0,0,0,0.3);
      position: relative;
      overflow: hidden;
      animation: borderPulse 5s ease-in-out infinite;
    }
    
    @keyframes borderPulse {
      0%, 100% { border-color: rgba(166,124,82,0.15); }
      50% { border-color: rgba(166,124,82,0.35); }
    }
    
    /* ===================================== */
    /* 4) Section Title with Bounce & Glow */
    /* ===================================== */
    h1.section-title {
      color: var(--primary-accent);
      text-align: center;
      font-size: 2.8em;
      margin-bottom: 40px;
      text-shadow: 0 4px 6px rgba(0,0,0,0.3);
      opacity: 0;
      animation: titleEntrance 1s forwards;
    }
    
    @keyframes titleEntrance {
      0% { opacity: 0; transform: translateY(-20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    h1.section-title:hover {
      transform: perspective(600px) rotateX(5deg) scale(1.05);
      text-shadow: 0 6px 12px rgba(166,124,82,0.5);
    }
    
    /* ===================================== */
    /* 5) Navigation with Animated Bounce */
    /* ===================================== */
    nav {
      text-align: center;
      margin: 50px 0;
      position: relative;
      z-index: 100;
      animation: navEntrance 1s forwards;
      opacity: 0;
    }
    
    @keyframes navEntrance {
      0% { opacity: 0; transform: translateY(-20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    nav a {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 18px 35px;
      margin: 0 15px;
      border-radius: 50px;
      background: linear-gradient(145deg, rgba(166,124,82,0.15), rgba(166,124,82,0.1));
      color: var(--text-primary);
      font-weight: 700;
      font-size: 1.1em;
      letter-spacing: 1px;
      text-decoration: none;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(8px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      transition: transform 0.4s cubic-bezier(0.4,0,0.2,1), box-shadow 0.4s ease;
    }
    
    nav a::before {
      content: '';
      position: absolute;
      top: 0; left: -100%;
      width: 200%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
      transition: 0.5s;
    }
    
    nav a:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 25px rgba(166,124,82,0.3);
      background: linear-gradient(145deg, rgba(166,124,82,0.3), rgba(166,124,82,0.2));
    }
    
    nav a:hover::before {
      left: 100%;
    }
    
    /* ===================================== */
    /* 6) Quote Cards with Advanced Animations */
    /* ===================================== */
    .quote-card {
      background: var(--card-bg);
      padding: 30px;
      border-radius: 15px;
      border-left: 4px solid var(--primary-accent);
      margin-bottom: 40px;
      opacity: 0;
      transform: translateY(40px) scale(0.95);
      animation: cardEntrance 1s forwards;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    @keyframes cardEntrance {
      0% { opacity: 0; transform: translateY(40px) scale(0.95); }
      50% { opacity: 0.7; transform: translateY(20px) scale(1.02); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    
    .quote-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 10px 25px rgba(166,124,82,0.2);
    }
    
    /* ===================================== */
    /* 7) Philosopher Image with 3D Hover */
    /* ===================================== */
    .philosopher-img {
      width: 320px;
      border-radius: 15px;
      border: 3px solid rgba(166,124,82,0.3);
      transition: transform 0.4s ease, filter 0.4s ease;
    }
    
    .philosopher-img:hover {
      transform: scale(1.05) rotateZ(2deg);
      filter: contrast(1.1);
    }
    
    /* ===================================== */
    /* 8) Chatbot Styles with Pulse Animation */
    /* ===================================== */
    #chatbot-container {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
      font-family: 'Merriweather', serif;
    }
    
    #chatbot-toggle {
      background: var(--primary-accent);
      color: #fff;
      border: none;
      padding: 15px 25px;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(166,124,82,0.4);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      font-size: 1.1em;
      animation: togglePulse 2s infinite;
    }
    
    @keyframes togglePulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    #chatbot-toggle:hover {
      transform: scale(1.08) translateY(-3px);
      box-shadow: 0 8px 20px rgba(166,124,82,0.6);
    }
    
    #chatbot-window {
      display: none;
      background: rgba(25,27,35,0.97);
      border: 1px solid rgba(166,124,82,0.4);
      border-radius: 15px;
      width: 350px;
      height: 500px;
      margin-top: 15px;
      backdrop-filter: blur(12px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      flex-direction: column;
    }
    
    #chatbot-messages {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
      min-height: 0;
    }
    
    .message {
      max-width: 85%;
      padding: 12px 18px;
      border-radius: 15px;
      animation: messageAppear 0.3s ease;
      word-wrap: break-word;
      white-space: pre-wrap;
      overflow-wrap: break-word;
    }
    
    .user-message {
      background: var(--primary-accent);
      color: #fff;
      align-self: flex-end;
      border-bottom-right-radius: 5px;
    }
    
    .bot-message {
      background: rgba(40,45,55,0.9);
      color: #F0F3F5;
      align-self: flex-start;
      border-bottom-left-radius: 5px;
    }
    
    #chatbot-input {
      flex-grow: 1;
      padding: 12px;
      border: 1px solid rgba(166,124,82,0.4);
      border-radius: 25px;
      background: rgba(40,45,55,0.9);
      color: #fff;
      margin: 0 15px 15px 15px;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    
    #chatbot-input:focus {
      outline: none;
      border-color: var(--primary-accent);
      box-shadow: 0 0 10px rgba(166,124,82,0.3);
    }
    
    #send-btn {
      background: var(--primary-accent);
      color: #fff;
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      cursor: pointer;
      transition: transform 0.3s ease, background 0.3s ease;
      margin-right: 15px;
      margin-bottom: 15px;
    }
    
    #send-btn:hover {
      background: rgba(166,124,82,0.9);
      transform: translateY(-2px);
    }
    
    @keyframes messageAppear {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* ===================================== */
    /* 9) Custom Scrollbar */
    /* ===================================== */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
    ::-webkit-scrollbar-thumb { background: var(--primary-accent); border-radius: 4px; }
    
    /* ===================================== */
    /* 10) Responsive Adjustments */
    /* ===================================== */
    @media (max-width: 768px) {
      .main-container {
        margin: 20px auto;
        padding: 20px;
      }
      nav a { padding: 12px 25px; margin: 0 10px; font-size: 1em; }
      h1.section-title { font-size: 2.2em; }
      .quote-card { padding: 20px; }
      #chatbot-window { width: 90vw; max-width: 400px; height: 60vh; }
      .philosopher-img { width: 280px; }
    }
  </style>
</head>
<body>
  <!-- Floating Accent Shapes -->
  <div class="shapes-container">
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
  </div>
  
  <!-- Main Content Container -->
  <div class="main-container">
    <!-- Page Title -->
    <h1 class="section-title">
      CITIMET MÃ‹ TÃ‹ NJOHURA
    </h1>
    
    <!-- Navigation -->
    <nav>
      <a href="index.html"><i class="fas fa-home"></i> Kryefaqja</a>
      <a href="biografia.html"><i class="fas fa-scroll"></i> Biografia</a>
      <a href="vepra.html"><i class="fas fa-book-open"></i> Vepra</a>
      <a href="filozofia.html"><i class="fas fa-brain"></i> Filozofia</a>
    </nav>
    
    <!-- Quote Cards & Mixed Content -->
    <div style="display: grid; gap: 40px;">
      <!-- Interactive Quote Card -->
      <div class="quote-card">
        <div id="quote-display" style="color: var(--text-secondary); font-style: italic; font-size: 1.4em; line-height: 1.6;">
          "Sekreti i ekzistencÃ«s njerÃ«zore qÃ«ndron jo vetÃ«m nÃ« tÃ« jetuarit, por nÃ« gjetjen e diÃ§kaje pÃ«r tÃ« cilÃ«n tÃ« jetosh."
        </div>
        <button id="quote-btn" style="margin-top: 20px; background: var(--primary-accent); color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: 600; font-size: 1em;">
          ThÃ«nie tjetÃ«r
        </button>
      </div>
      
      <!-- Mixed Content Card -->
      <div style="display: flex; gap: 40px; align-items: center; padding: 30px; border-radius: 20px; background: rgba(40,45,55,0.85);">
        <img src="https://as2.ftcdn.net/v2/jpg/03/72/46/55/1000_F_372465522_KH07yAXTsrRRWNZgPaUMgU6p6DV9hODs.jpg" 
             alt="Dostoevsky nÃ« moshÃ« tÃ« madhe" 
             class="philosopher-img">
        <div style="flex: 1;">
          <h3 style="color: var(--primary-accent); font-size: 2em; margin-bottom: 25px;">MENDIME FILOZOFIKE</h3>
          <div style="color: var(--text-secondary); line-height: 1.8; font-size: 1.1em;">
            <p style="border-left: 3px solid var(--primary-accent); padding-left: 20px; margin-bottom: 25px;">
              "TÃ« dashurosh dikÃ« do tÃ« thotÃ« tÃ« shohÃ«sh atÃ« siÃ§ ka dashur Zoti qÃ« tÃ« bÃ«het"
            </p>
            <p style="border-left: 3px solid var(--primary-accent); padding-left: 20px;">
              "NÃ«se Zoti nuk ekziston, gjithÃ§ka Ã«shtÃ« e lejuar"
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Chatbot Container -->
  <div id="chatbot-container">
    <button id="chatbot-toggle">ðŸ’¬ Pyet Rejan</button>
    <div id="chatbot-window">
      <div id="chatbot-messages"></div>
      <div style="display: flex; gap: 10px; margin-top: 15px;">
        <input type="text" id="chatbot-input" placeholder="Shkruani pyetjen...">
        <button id="send-btn">DÃ«rgo</button>
      </div>
    </div>
  </div>
  
  <script>
    // Chatbot Functionality
    document.addEventListener('DOMContentLoaded', () => {
      const chatbotToggle = document.getElementById('chatbot-toggle');
      const chatbotWindow = document.getElementById('chatbot-window');
      const chatMessages = document.getElementById('chatbot-messages');
      const chatInput = document.getElementById('chatbot-input');
      const sendBtn = document.getElementById('send-btn');
      
      chatbotToggle.addEventListener('click', () => {
        const isVisible = chatbotWindow.style.display === 'flex';
        chatbotWindow.style.display = isVisible ? 'none' : 'flex';
        if (!isVisible) chatInput.focus();
      });
      
      function addMessage(text, isUser) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
        messageDiv.textContent = text;
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
      
      async function handleSend() {
        const question = chatInput.value.trim();
        if (!question) return;
        addMessage(question, true);
        chatInput.value = '';
        chatInput.disabled = true;
        sendBtn.disabled = true;
        try {
          const response = await fetch("http://localhost:5000/ask-dostoevsky", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message: question }),
          });
          const data = await response.json();
          addMessage(data.reply || "Nuk mundem tÃ« jap njÃ« pÃ«rgjigje nÃ« kÃ«tÃ« Ã§ast.", false);
        } catch (error) {
          addMessage("Gabim nÃ« lidhje me serverin. Ju lutem provoni pÃ«rsÃ«ri.", false);
        } finally {
          chatInput.disabled = false;
          sendBtn.disabled = false;
          chatInput.focus();
        }
      }
      
      sendBtn.addEventListener('click', handleSend);
      chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') handleSend();
      });
      
      setTimeout(() => {
        addMessage("PÃ«rshÃ«ndetje! UnÃ« jam REJAN asistenti virtual pÃ«r Fjodor Dostoevskin. Ã‡farÃ« dÃ«shironi tÃ« dini?", false);
      }, 1000);
      
      // Reset philosopher image transform on mouse leave
      const philosopherImg = document.querySelector('.philosopher-img');
      philosopherImg.addEventListener('mouseleave', (e) => {
        e.target.style.transform = 'scale(1)';
      });
    });

    // Interactive Quote Generator
    document.addEventListener('DOMContentLoaded', () => {
      const quotes = [
        "Sekreti i ekzistencÃ«s njerÃ«zore qÃ«ndron jo vetÃ«m nÃ« tÃ« jetuarit, por nÃ« gjetjen e diÃ§kaje pÃ«r tÃ« cilÃ«n tÃ« jetosh.",
        "Vuajtja Ã«shtÃ« burimi i vetÃ«dijÃ«simit tÃ« vetÃ«vetes.",
        "PÃ«r t'u bÃ«rÃ« njeri i vÃ«rtetÃ«, duhet vuajtur.",
        "Njeriu Ã«shtÃ« njÃ« mister. NÃ«se do tÃ« kaloje gjithÃ« jetÃ«n duke u pÃ«rpjekur ta zbulosh, mos thuaj se ke humbur kohÃ«; unÃ« jam i angazhuar nÃ« kÃ«tÃ« mister sepse dua tÃ« jem njeri.",
        "Jeta Ã«shtÃ« dhimbje, jeta Ã«shtÃ« vuajtje, dhe pÃ«rmes kÃ«tij vuajtjeje dhe nÃ« kÃ«tÃ« vuajtje vjen ndÃ«rgjegjja jonÃ« pÃ«r gjithÃ§ka.",
        "TÃ« duash njÃ« person do tÃ« thotÃ« ta shohÃ«sh atÃ« siÃ§ e ka menduar Zoti.",
        "NÃ«se dÃ«shiron tÃ« shohÃ«sh njÃ« njeri, vendose para pÃ«rgjegjÃ«sisÃ«.",
        "Nuk ka lumturi nÃ« komoditet; lumturia blihet me vuajtje.",
        "Jeta pa njÃ« qÃ«llim Ã«shtÃ« njÃ« jetÃ« pa kÃ«naqÃ«si.",
        "Dashuria do tÃ« thotÃ« tÃ« vlerÃ«sosh personin tjetÃ«r mÃ« shumÃ« se veten."
      ];
      
      const quoteDisplay = document.getElementById('quote-display');
      const quoteBtn = document.getElementById('quote-btn');
      
      quoteBtn.addEventListener('click', function() {
        let currentQuote = quoteDisplay.textContent;
        let newQuote;
        do {
          newQuote = quotes[Math.floor(Math.random() * quotes.length)];
        } while (newQuote === currentQuote);
        
        // Fade-out effect
        quoteDisplay.style.opacity = 0;
        setTimeout(() => {
          quoteDisplay.textContent = newQuote;
          // Fade-in effect
          quoteDisplay.style.opacity = 1;
        }, 500);
      });
    });
  </script>
</body>
</html>
